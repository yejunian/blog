---
import categoryMap from "@/data/categoryMap";

import CategoryListItem from "./CategoryListItem.astro";

interface Props {
  heading?: string;
  categoryId?: string;
}

const { heading = "어떤 분류로 글을 쓰고 있나", categoryId = "" } = Astro.props;
---

<section class="category">
  {heading ? <h2 class="title">{heading}</h2> : null}

  <dl class="list">
    {
      categoryMap
        .entries()
        .filter(([id]) => categoryId !== id)
        .map(([id, { label, description }]) => (
          <CategoryListItem
            categoryId={id}
            label={label}
            description={description}
          />
        ))
    }
  </dl>
</section>

<style>
  .category {
    line-height: 1.4;
  }

  .title {
    margin: 0;

    font-size: var(--text-section-heading);
    font-weight: var(--font-weight-sans-bold);
  }

  .list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: calc(3 * var(--gap-unit));

    margin: calc(3 * var(--gap-unit)) 0 0;
  }
</style>
